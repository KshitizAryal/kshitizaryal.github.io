<head>

  {% if site_url %}
    {% assign site_url = site_url | append: site.baseurl %}
  {% endif %}
  {% assign site_url = site_url | default: site.github.url %}

  {% assign site_name = site.title | default: site.name %}
  {% if site_name %}
    {% assign site_name = site_name | smartify | strip_html | strip_newlines | escape_once %}
  {% endif %}

  {% if page.url %}
    {% assign page_url = page.url | replace:'/index.html','/' | prepend: site_url %}
  {% endif %}

  {% if page.title %}
    {% assign page_title = page.title | smartify | strip_html | strip_newlines | escape_once %}
  {% endif %}

  {% assign site_description = page.description | default: site.description %}
  {% if site_description %}
    {% assign site_description = site_description | smartify | strip_html | strip_newlines | truncate: 160 | escape_once %}
  {% endif %}

  {% if site.github.build_revision %}
    {% assign build_version = site.github.build_revision %}
  {% else %}
    {% assign build_version = site.time | date: '%Y%m%d%H%M%S' %}
  {% endif %}

  <!-- Basic page needs -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <title>{{ site_name }}</title>
  <meta name="description" content="{{ site_description }}">
  <meta name="author" content="{{ site_name }}">

  <!-- SEO -->
  {% if page.robots %}
    <meta name="robots" content="{{ page.robots }}">
  {% endif %}

  <link rel="canonical" href="{{ page_url }}">

  <!-- CSS -->
  <link rel="stylesheet" href="/assets/css/styles.min.css?v={{ build_version }}">

</head>
